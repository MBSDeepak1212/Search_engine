You are given a sequence a1,a2,\xe2\x80\xa6,aNa1,a2,\xe2\x80\xa6,aNa_{1}, a_{2}, \\ldots, a_{N} of non-negative integers. Your task is to process QQQ queries of the following format: each query is described by two integers L\xe2\x89\xa4RL\xe2\x89\xa4RL \\leq R and asks to calculate the number of triples (i,j,k)(i,j,k)(i, j, k), such that L<i<j<k<RL<i<j<k<RL < i < j < k < R and aL>ai<aj>ak<aRaL>ai<aj>ak<aRa_{L} > a_{i} < a_{j} > a_{k} < a_{R}.