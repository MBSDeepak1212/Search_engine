 We define a balanced bracket sequence as following:Empty sequence is balancedIf PPP is balanced, (P)(P)(P) is also balancedIf PPP and QQQ are balanced, PQPQPQ is also balancedFor example, empty sequence and sequences (())()(())()(())(), ()()(), (()(()))(()(()))(()(())) are balanced. While (((, )()()(, (()(()(() and (()))((()))((()))( are not balanced. You are given a bracket sequence AAA of length NNN and QQQ queries of the following form:LLL RRR : You are given two integers LLL and RRR (1\xe2\x89\xa4L\xe2\x89\xa4R\xe2\x89\xa4N)(1\xe2\x89\xa4L\xe2\x89\xa4R\xe2\x89\xa4N)(1 \\le L \\le R \\le N). Find the number of pairs (X,Y)(X,Y)(X, Y), where L\xe2\x89\xa4X\xe2\x89\xa4Y\xe2\x89\xa4RL\xe2\x89\xa4X\xe2\x89\xa4Y\xe2\x89\xa4RL \\le X \\le Y \\le R, such that after removing the substring A[X,Y]A[X,Y]A_{[X,Y]} from A[L,R]A[L,R]A_{[L,R]},  the substring A[L,R]A[L,R]A_{[L , R]} becomes a balanced bracket sequence. In other words, for a given (L,R)(L,R)(L, R), find the number of pairs (X,Y)(X,Y)(X, Y), such that the sequence AL\xe2\x80\xa6AX\xe2\x88\x921AY+1\xe2\x80\xa6ARAL\xe2\x80\xa6AX\xe2\x88\x921AY+1\xe2\x80\xa6ARA_L \\ldots A_{X-1}A_{Y+1}\\ldots A_R is a balanced bracket sequence.Note that, A[L,R]A[L,R]A_{[L, R]} denotes the substring ALAL+1AL+2\xe2\x80\xa6AR\xe2\x88\x921ARALAL+1AL+2\xe2\x80\xa6AR\xe2\x88\x921ARA_LA_{L+1}A_{L+2} \\ldots A_{R-1}A_R.