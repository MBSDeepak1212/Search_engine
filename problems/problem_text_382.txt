For two strings AAA and BBB with the same length NNN, we will say that they are equivalent if the following rule holds: For each pair of integers lll and rrr (1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4N1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4N1 \\le l \\le r \\le N), the substring of AAA between the lll-th and rrr-th character (inclusive) is a palindrome if and only if the substring of BBB between the lll-th and rrr-th character (inclusive) is a palindrome.You are given a string SSS with length NNN. Find the number of sets P\xe2\x8a\x82{1,2,\xe2\x80\xa6,N}P\xe2\x8a\x82{1,2,\xe2\x80\xa6,N}P \\subset \\{1, 2, \\ldots, N\\} such that there is a character ccc and a string XXX which is equivalent to SSS and satisfies Xp=cXp=cX_p = c for each p\xe2\x88\x88Pp\xe2\x88\x88Pp \\in P. Since the answer may be large, compute it modulo 998,244,353998,244,353998,244,353.